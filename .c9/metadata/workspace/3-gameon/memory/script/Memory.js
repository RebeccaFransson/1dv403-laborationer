{"changed":true,"filter":false,"title":"Memory.js","tooltip":"/3-gameon/memory/script/Memory.js","value":"'use strict';\n//https://www.youtube.com/watch?v=c_ohDPWmsM0 - inte till någon hjälp...\nvar Memory = {\n    \n    imgRandom: [],\n    times: 0,\n    pic1: \"\",\n    pic2: \"\",\n    klickedNode: [],\n    target1: \"\",\n    target2: \"\",\n    score: 0,\n    timeout: undefined,\n    picValue: 0,\n    \n    go: function(){\n        var row = 4;\n        var col = 4;\n        //var done = row + col;\n        \n        \n        Memory.imgRandom.push(RandomGenerator.getPictureArray(row, col));\n        \n        Memory.tableCreate(row, col); //skickar värderna över hur lång den skall vara till table-func\n        Memory.click();\n\n        console.log('slumpade nummer '+Memory.imgRandom);\n        \n    },\n\n    tableCreate: function(c, r){\n        var cards = document.querySelector('#cards');\n\n        var tbl     = document.createElement('table');\n        var tblBody = document.createElement('tbody');\n\n        for (var j = 0; j < c; j++) {\n            var row = document.createElement('tr');\n            //.setAttribute('class', j) // Göra ny klass så att klickmetoden fungerar?\n\n            for (var i = 0; i < r; i++) {\n                var cell = document.createElement('td');  \n                var a = document.createElement('a');\n                var img = document.createElement('img');\n                var count = ((j * r) + i);\n                \n                img.setAttribute('src', 'pics/0.png');\n                img.setAttribute('a', ''+Memory.imgRandom[0][count]+'');\n                a.setAttribute('href', '#');\n                //a.setAttribute('a', ''+Memory.imgRandom[0][count]+'');\n                //a.setAttribute('src', 'pics/0.png');\n\n                cell.appendChild(a);\n                a.appendChild(img);\n                row.appendChild(cell)\n                \n                \n            }\n            tblBody.appendChild(row);\n            \n        }\n        tbl.appendChild(tblBody);\n        cards.appendChild(tbl);\n        \n       \n    },\n    \n    \n//KLICK FUNKTIONER\n    // click: function(){\n    //     var cards = document.querySelector('table');\n    //     cards.addEventListener('click', function(e){\n    //         console.log(\"Klickar och vår opend är \"+Memory.times);\n    //         Memory.flip(e); //Skickas till function som vänder korten\n    //         Memory.write();\n    //         e.preventDefault();\n    //     });\n        \n    // },\n    \n    flip: function(e){\n        //var link;\n        //var img = e.target.firstChild;\n         //for(var i = 0; i < Memory.imgRandom.length; i++){\n           //  console.log('forloop');\n         //if(e.target.getAttribute('href') === '#'){ //Om det är en sträng.   Ifsatsen skall bestämma vad link ska betyda, antingen tangent eller mus\n           //      console.log('tangentklick på a-tag '+e.target);\n             //    link = e.target; \n             //}else{\n               //  console.log('musklick på IMG '+e.target);\n                // link = img;//img\n             //}\n             \n        // } //Måste ha en ifsats. annars fungerar inte både mus och tangentbord.\n        \n        \n        Memory.klickedNode.push(link.getAttribute('a')); // sparar bilden vi klickade på\n        var link = e.target;\n        //var alink = e.target.firstChild;\n        console.log(\"arrayn med värden på de vi klickat på \"+Memory.klickedNode);\n        Memory.picValue = link.getAttribute('a');//variabel som håller koll på bildens värde\n        var src = \"pics/\"+Memory.picValue+\".png\";\n        console.log(\"värdet på bilden vi klickade på: \"+Memory.picValue);\n        \n        if(Memory.times < 2){//om vi öppnat mindre än två brickor\n            if(Memory.times < 1){ //om vi bara öppnat en bricka\n                Memory.times++;\n                console.log(\"Här har vi bara klickat på en\");\n                link.setAttribute('src', src);//Ger frågetecknet en  bild\n                Memory.pic1 = Memory.picValue;// pic1 tilldelas den värdet för den första bilden\n                Memory.target1 = link; //sparar den klickade noden\n                console.log(\"Skriver ut target1:  \"+Memory.target1);\n                \n            }else{\n                Memory.times++;\n                console.log(\"Här har vi bara klickat på TVÅ\");\n                link.setAttribute('src', src);\n                Memory.pic2 = Memory.picValue;// andra bilden\n                Memory.target2 = e.target; //sparar den klickade noden\n                \n                }if(Memory.times === 2 && Memory.pic1 === Memory.pic2 && Memory.target1 != Memory.target2){//lika\n                    Memory.score++;\n                    console.log(\"Dessa två är lika \"+Memory.pic1+\" är det samma som \"+Memory.pic2+\" MITT SCORE ÄR: \"+Memory.score);\n                    Memory.times = 0;\n                }else if(Memory.times === 2){//ej lika vända igen\n                    //Memory.target1.setAttribute('src', 'pics/0.png');\n                    //Memory.target2.setAttribute('src', 'pics/0.png');\n                    console.log(\"Sätter frågetäcken utan timer\");\n                    //Memory.times = 0;\n                    setTimeout(Memory.timer, 1000);\n                }\n            }\n            if(Memory.times > 2){\n                    setTimeout(Memory.timer, 1000);\n                    console.log(\"Gissat två ggr ej lika sätter timer\");\n                }\n                    \n           \n    },\n    \n    timer: function(){\n        console.log(\"Vänder tillbaka\");\n        if(Memory.pic1 != Memory.pic2){//om de ej är lika vänd tillbaka dem båda\n        console.log(\"Ej lika\");\n            //if(Memory.target1.getAttribute('a') === Memory.pic1 && Memory.target2.getAttribute('a') === Memory.pic2){ \n                console.log(\"Vänder tillbaka klickednode med attribut \"+ Memory.klickedNode[0]+\"Som är samma som\"+Memory.pic1);\n                Memory.target1.setAttribute('src', 'pics/0.png');//bilderna återställs efter en sek\n                Memory.target2.setAttribute('src', 'pics/0.png');\n                Memory.times = 0;\n            //}\n        }else if(Memory.target1 != Memory.target2){//lika vänta 1 sec fortsätt spelet\n        console.log(\"Väldigt lika, ny timer\");\n            setTimeout(1000);\n            Memory.times = 0;\n        }else{\n            Memory.target1.setAttribute('src', 'pics/0.png');//bilderna återställs efter en sek\n            Memory.target2.setAttribute('src', 'pics/0.png');\n            Memory.times = 0;\n        }\n        \n    },\n     write: function(){\n         var p = document.querySelector('p');\n         p.innerHTML = \"Antal poäng:<br>\"+(Memory.score);\n         if(Memory.score === Memory.imgRandom.length){\n             var done = document.querySelector('#done');\n             done.innerHTML = \"Grattis! Du har vunnit, och klarade det på  försök!\";\n         }\n        \n     },\n};\nwindow.onload = Memory.go;","undoManager":{"mark":67,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":100,"column":47},"end":{"row":100,"column":48},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":48},"end":{"row":100,"column":49},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":49},"end":{"row":100,"column":50},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":50},"end":{"row":100,"column":51},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":51},"end":{"row":100,"column":52},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":52},"end":{"row":100,"column":53},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":53},"end":{"row":100,"column":54},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":54},"end":{"row":100,"column":55},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":55},"end":{"row":100,"column":56},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":56},"end":{"row":100,"column":57},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":57},"end":{"row":100,"column":58},"action":"insert","lines":["å"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":58},"end":{"row":100,"column":59},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":37},"end":{"row":100,"column":38},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":37},"end":{"row":100,"column":38},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":97,"column":32},"end":{"row":97,"column":36},"action":"remove","lines":["link"]},{"start":{"row":97,"column":32},"end":{"row":97,"column":33},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":97,"column":33},"end":{"row":97,"column":34},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":97,"column":34},"end":{"row":97,"column":35},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":101,"column":26},"end":{"row":101,"column":30},"action":"remove","lines":["link"]},{"start":{"row":101,"column":26},"end":{"row":101,"column":27},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":101,"column":27},"end":{"row":101,"column":28},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":101,"column":28},"end":{"row":101,"column":29},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":109,"column":16},"end":{"row":109,"column":20},"action":"remove","lines":["link"]},{"start":{"row":109,"column":16},"end":{"row":109,"column":17},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":109,"column":17},"end":{"row":109,"column":18},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":109,"column":18},"end":{"row":109,"column":19},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":117,"column":16},"end":{"row":117,"column":20},"action":"remove","lines":["link"]},{"start":{"row":117,"column":16},"end":{"row":117,"column":17},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":117,"column":17},"end":{"row":117,"column":18},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":117,"column":18},"end":{"row":117,"column":19},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":82,"column":38},"end":{"row":83,"column":64},"action":"remove","lines":["","        console.log('e.target = ' + e.target.getAttribute('a'));"]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":16},"end":{"row":81,"column":17},"action":"remove","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":16},"end":{"row":81,"column":17},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":17},"end":{"row":81,"column":18},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":18},"end":{"row":81,"column":19},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":19},"end":{"row":81,"column":20},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":20},"end":{"row":81,"column":21},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":21},"end":{"row":81,"column":22},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":22},"end":{"row":81,"column":23},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":21},"end":{"row":81,"column":23},"action":"remove","lines":["ta"]},{"start":{"row":81,"column":21},"end":{"row":81,"column":27},"action":"insert","lines":["target"]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":27},"end":{"row":81,"column":28},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":26},"end":{"row":90,"column":32},"action":"remove","lines":["target"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":25},"end":{"row":90,"column":26},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":24},"end":{"row":90,"column":25},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":24},"end":{"row":90,"column":25},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":25},"end":{"row":90,"column":26},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":26},"end":{"row":90,"column":27},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":30},"end":{"row":89,"column":42},"action":"remove","lines":["tangentklick"]},{"start":{"row":89,"column":30},"end":{"row":89,"column":31},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":31},"end":{"row":89,"column":32},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":32},"end":{"row":89,"column":33},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":33},"end":{"row":89,"column":34},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":34},"end":{"row":89,"column":35},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":35},"end":{"row":89,"column":36},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":36},"end":{"row":89,"column":37},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":37},"end":{"row":89,"column":38},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":32},"end":{"row":96,"column":35},"action":"remove","lines":["img"]},{"start":{"row":96,"column":32},"end":{"row":96,"column":33},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":33},"end":{"row":96,"column":34},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":34},"end":{"row":96,"column":35},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":35},"end":{"row":96,"column":36},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":26},"end":{"row":100,"column":29},"action":"remove","lines":["img"]},{"start":{"row":100,"column":26},"end":{"row":100,"column":27},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":27},"end":{"row":100,"column":28},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":28},"end":{"row":100,"column":29},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":100,"column":29},"end":{"row":100,"column":30},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":108,"column":16},"end":{"row":108,"column":19},"action":"remove","lines":["img"]},{"start":{"row":108,"column":16},"end":{"row":108,"column":17},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":108,"column":17},"end":{"row":108,"column":18},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":108,"column":18},"end":{"row":108,"column":19},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":108,"column":19},"end":{"row":108,"column":20},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":116,"column":16},"end":{"row":116,"column":19},"action":"remove","lines":["img"]},{"start":{"row":116,"column":16},"end":{"row":116,"column":17},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":116,"column":17},"end":{"row":116,"column":18},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":116,"column":18},"end":{"row":116,"column":19},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":116,"column":19},"end":{"row":116,"column":20},"action":"insert","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":16},"end":{"row":81,"column":27},"action":"remove","lines":[" = e.target"]}]}],[{"group":"doc","deltas":[{"start":{"row":82,"column":8},"end":{"row":82,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":82,"column":9},"end":{"row":82,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":85,"column":9},"end":{"row":85,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":85,"column":10},"end":{"row":85,"column":11},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":11},"end":{"row":86,"column":12},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":12},"end":{"row":86,"column":13},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":13},"end":{"row":87,"column":14},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":14},"end":{"row":87,"column":15},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":13},"end":{"row":88,"column":14},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":14},"end":{"row":88,"column":15},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":15},"end":{"row":89,"column":16},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":16},"end":{"row":89,"column":17},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":16},"end":{"row":90,"column":17},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":17},"end":{"row":90,"column":18},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":13},"end":{"row":91,"column":14},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":14},"end":{"row":91,"column":15},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":8},"end":{"row":81,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":9},"end":{"row":81,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":97,"column":9},"end":{"row":97,"column":10},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":97,"column":8},"end":{"row":97,"column":9},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":29},"end":{"row":164,"column":30},"action":"remove","lines":["8"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":29},"end":{"row":164,"column":30},"action":"insert","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":30},"end":{"row":164,"column":31},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":31},"end":{"row":164,"column":32},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":32},"end":{"row":164,"column":33},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":33},"end":{"row":164,"column":34},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":34},"end":{"row":164,"column":35},"action":"insert","lines":["y"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":35},"end":{"row":164,"column":36},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":36},"end":{"row":164,"column":45},"action":"insert","lines":["imgRandom"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":45},"end":{"row":164,"column":46},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":46},"end":{"row":164,"column":47},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":164,"column":46},"end":{"row":164,"column":47},"action":"remove","lines":["l"]},{"start":{"row":164,"column":46},"end":{"row":164,"column":52},"action":"insert","lines":["length"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":4},"end":{"row":69,"column":7},"action":"insert","lines":["// "]},{"start":{"row":70,"column":4},"end":{"row":70,"column":7},"action":"insert","lines":["// "]},{"start":{"row":71,"column":4},"end":{"row":71,"column":7},"action":"insert","lines":["// "]},{"start":{"row":72,"column":4},"end":{"row":72,"column":7},"action":"insert","lines":["// "]},{"start":{"row":73,"column":4},"end":{"row":73,"column":7},"action":"insert","lines":["// "]},{"start":{"row":74,"column":4},"end":{"row":74,"column":7},"action":"insert","lines":["// "]},{"start":{"row":75,"column":4},"end":{"row":75,"column":7},"action":"insert","lines":["// "]},{"start":{"row":76,"column":4},"end":{"row":76,"column":7},"action":"insert","lines":["// "]},{"start":{"row":78,"column":4},"end":{"row":78,"column":7},"action":"insert","lines":["// "]}]}]]},"ace":{"folds":[],"scrolltop":685.5,"scrollleft":0,"selection":{"start":{"row":70,"column":40},"end":{"row":70,"column":40},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":47,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1418116263171}