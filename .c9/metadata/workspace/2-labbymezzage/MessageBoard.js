{"changed":true,"filter":false,"title":"MessageBoard.js","tooltip":"/2-labbymezzage/MessageBoard.js","value":"\"use strict\";\n/* I denna fil körs vår applikation.\n * Vi använder window.onload för att starta applikationen när\n * fönstret laddat klart. * \n */\n \n\n\nvar messageBoard = {//här ska vara en metod som kommer trigga igång de andra metoderna\n\n    messages: [],//skapar tom array\n    \n    init: function(){//privat function\n        \n        var submit = document.getElementById(\"send\"); //knappen\n        \n        submit.addEventListener(\"click\", function(a){//när vi klickar på submit hoppar vi \n        messageBoard.newObjekt(a);//till newObject funktionenegenskapen \n        });\n                     \n    },\n      \n    newObjekt: function(a){//här skapas ett nytt objekt t arrayn\n        var text = document.querySelector(\"textarea\"); //texten\n        a.preventDefault(); //formuläret skickas inte vidare.\n        \n        if( text.value !== \"\"){\n            messageBoard.messages.push(new Message(text.value, new Date())); // skickar värderna till konstruktorn\n            var lastPost = messageBoard.messages.length - 1;\n            messageBoard.outputMessage(lastPost);//skickar meddelandets id till metoden där jag skriver ut meddelanden\n            messageBoard.countMessage();//räknar meddelanden\n\n\t\t\ttext.value = \"\";\n\t\t}\n    },\n    \n    outputMessage: function(messageId){//här skrivs meddelandet ut\n        var add = document.querySelector(\"ul\");//alla ul taggar i message-div\n        \n        //skapa nya div taggar och får ids som ska läggas till i add sedan\n        //var newUl = document.createElement(\"ul\");\n        var newLi = document.createElement(\"li\");\n        var newDelete = document.createElement(\"div\");//skapar delete - div tag\n        var newA = document.createElement(\"a\");\n        var newA2 = document.createElement(\"a\"); //delete och time kunde inte dela samma a-tag\n        var newTime = document.createElement(\"div\");\n        var newPText = document.createElement(\"p\");\n        var newPDate = document.createElement(\"p\");\n        \n        //sätter attribut till de nya taggarna\n        newDelete.setAttribute(\"class\", \"delete\");\n        newA.setAttribute(\"href\", \"#\");\n        newA2.setAttribute(\"href\", \"#\");\n        newTime.setAttribute(\"class\", \"time\");\n        newPText.setAttribute(\"class\", \"text\");\n        newPDate.setAttribute(\"class\", \"date\");\n        \n        \n        //lägger till de nya taggarna\n        add.appendChild(newLi); \n        newLi.appendChild(newDelete);\n        newDelete.appendChild(newA);\n        newLi.appendChild(newTime);\n        newTime.appendChild(newA2);\n        newLi.appendChild(newPText);\n        newLi.appendChild(newPDate);\n        \n        \n        //Lägger till texten i p taggen\n        newPText.innerHTML += messageBoard.messages[messageId].getHTMLText();\n        console.log(\"texten: \"+messageBoard.messages[messageId].getHTMLText());\n        \n        //Lägger till datument i en annan p tagg\n        newPDate.innerHTML += messageBoard.messages[messageId].getDateText();\n        //console.log(\"Datumet: \"+messageBoard.messages[messageId].getHTMLDate());\n        \n        \n        //radera meddelanden\n        newA.onclick = function(e){\n\t\t\te.preventDefault();\n\t\t\tif( confirm(\"Vill du verkligen radera meddelandet?\")){\n\t\t\t\tmessageBoard.remove(messageId);\n\t\t\t}\n\t\t}\n        \n        newA2.onclick = function(e){\n\t\t\te.preventDefault();\n\t\t\talert(messageBoard.messages[messageId].toString());\n\t\t}\n    },\n    \n    countMessage: function(){//lägger till antal i existerande divtagg\n        \n        var count = messageBoard.messages.length;\n        document.querySelector(\"#count\").innerHTML = \"Antal meddelanden: \"+count;\n        console.log(\"hur många meddelanden: \"+count);\n    },\n    \n    remove: function(messageId){\n\t\tmessageBoard.messages.splice(messageId, 1); //på postionen messageId, ta bort ett item\n\t\tmessageBoard.readAllMessages(messageId);\n\t\tmessageBoard.countMessage();\n\t\t\n\t},\n\t\n\treadAllMessages: function(messageId){\n\t    \n\t\t//tar bort alla meddelande(li) i ul-taggen\n\t\tdocument.getElementById(\"messageTag\").innerHTML = \"\";\n\t\t//document.querySelectorAll(\"li\").replace(/<(?:.|\\n)*?>/gm, '')\n        console.log(\"tar bort alla meddelanden \");\n        \n\t\t//loppar igenom obektet och skriver ut dem som är kvar\n\t\tfor (var i = 0; i < messageBoard.messages.length; i++) {\n\t\t\tmessageBoard.outputMessage(i);\n\t\t};\n\t\tconsole.log(\"skriver ut meddelanden som är kvar\");\n\t\t\n\n\t},\n   \n    \n    \n};\n    //console.log(messageBoard.messages[1].getText());\nwindow.onload = messageBoard.init;\n\n\n/*var message = ['Ge inte ut ditt lösenord till någon']; //första meddelandet\nmessage.push('här är ett meddelande');\nconsole.log(\"Meddelanden i arrayn: \"+message);\nconsole.log(\"längd på arrayn: \"+message.length);\nconsole.log(\"Meddelanden nummer två: \"+message);*/","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":30,"column":49},"end":{"row":30,"column":50},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":50},"end":{"row":30,"column":51},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":51},"end":{"row":30,"column":52},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":52},"end":{"row":30,"column":53},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":53},"end":{"row":30,"column":54},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":54},"end":{"row":30,"column":55},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":55},"end":{"row":30,"column":56},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":56},"end":{"row":30,"column":57},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":57},"end":{"row":30,"column":58},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":58},"end":{"row":30,"column":59},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":59},"end":{"row":30,"column":60},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":53,"column":46},"end":{"row":54,"column":0},"action":"insert","lines":["",""]},{"start":{"row":54,"column":0},"end":{"row":54,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":8},"end":{"row":54,"column":9},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":8},"end":{"row":54,"column":9},"action":"remove","lines":["n"]},{"start":{"row":54,"column":8},"end":{"row":54,"column":16},"action":"insert","lines":["newPText"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":16},"end":{"row":54,"column":17},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":17},"end":{"row":54,"column":18},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":18},"end":{"row":54,"column":19},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":17},"end":{"row":54,"column":19},"action":"remove","lines":["se"]},{"start":{"row":54,"column":17},"end":{"row":54,"column":31},"action":"insert","lines":["setAttribute()"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":30},"end":{"row":54,"column":32},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":31},"end":{"row":54,"column":31},"action":"insert","lines":[""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":32},"end":{"row":54,"column":33},"action":"insert","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":33},"end":{"row":54,"column":35},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":32},"end":{"row":54,"column":33},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":33},"end":{"row":54,"column":35},"action":"remove","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":33},"end":{"row":54,"column":34},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":33},"end":{"row":54,"column":35},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":31},"end":{"row":54,"column":32},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":32},"end":{"row":54,"column":33},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":32},"end":{"row":54,"column":33},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":31},"end":{"row":54,"column":32},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":31},"end":{"row":54,"column":32},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":32},"end":{"row":54,"column":33},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":33},"end":{"row":54,"column":34},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":34},"end":{"row":54,"column":35},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":35},"end":{"row":54,"column":36},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":39},"end":{"row":54,"column":40},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":40},"end":{"row":54,"column":41},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":41},"end":{"row":54,"column":42},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":42},"end":{"row":54,"column":43},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":42},"end":{"row":54,"column":43},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":39},"end":{"row":54,"column":42},"action":"remove","lines":["dat"]},{"start":{"row":54,"column":39},"end":{"row":54,"column":43},"action":"insert","lines":["date"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":45},"end":{"row":54,"column":46},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":45},"end":{"row":54,"column":46},"action":"remove","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":45},"end":{"row":54,"column":46},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":46},"end":{"row":55,"column":0},"action":"insert","lines":["",""]},{"start":{"row":55,"column":0},"end":{"row":55,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":39},"end":{"row":54,"column":43},"action":"remove","lines":["date"]},{"start":{"row":54,"column":39},"end":{"row":54,"column":40},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":40},"end":{"row":54,"column":41},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":41},"end":{"row":54,"column":42},"action":"insert","lines":["x"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":42},"end":{"row":54,"column":43},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":46},"end":{"row":55,"column":0},"action":"insert","lines":["",""]},{"start":{"row":55,"column":0},"end":{"row":55,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":8},"end":{"row":55,"column":9},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":9},"end":{"row":55,"column":10},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":10},"end":{"row":55,"column":11},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":11},"end":{"row":55,"column":12},"action":"insert","lines":["P"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":8},"end":{"row":55,"column":12},"action":"remove","lines":["newP"]},{"start":{"row":55,"column":8},"end":{"row":55,"column":16},"action":"insert","lines":["newPDate"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":16},"end":{"row":55,"column":17},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":17},"end":{"row":55,"column":18},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":18},"end":{"row":55,"column":19},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":17},"end":{"row":55,"column":19},"action":"remove","lines":["se"]},{"start":{"row":55,"column":17},"end":{"row":55,"column":31},"action":"insert","lines":["setAttribute()"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":30},"end":{"row":55,"column":32},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":31},"end":{"row":55,"column":31},"action":"insert","lines":[""]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":32},"end":{"row":55,"column":33},"action":"insert","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":32},"end":{"row":55,"column":33},"action":"remove","lines":["\""]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":32},"end":{"row":55,"column":33},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":33},"end":{"row":55,"column":35},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":31},"end":{"row":55,"column":32},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":32},"end":{"row":55,"column":33},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":33},"end":{"row":55,"column":34},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":34},"end":{"row":55,"column":35},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":35},"end":{"row":55,"column":36},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":39},"end":{"row":55,"column":40},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":40},"end":{"row":55,"column":41},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":41},"end":{"row":55,"column":42},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":42},"end":{"row":55,"column":43},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":45},"end":{"row":55,"column":46},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":55,"column":38},"end":{"row":55,"column":39},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":54,"column":38},"end":{"row":54,"column":39},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":8},"end":{"row":59,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":9},"end":{"row":59,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":9},"end":{"row":40,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":10},"end":{"row":40,"column":11},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":8},"end":{"row":60,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":9},"end":{"row":60,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":10},"end":{"row":40,"column":11},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":9},"end":{"row":40,"column":10},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":8},"end":{"row":40,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":9},"end":{"row":40,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":9},"end":{"row":60,"column":10},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":8},"end":{"row":60,"column":9},"action":"remove","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":8},"end":{"row":60,"column":13},"action":"remove","lines":["newUl"]},{"start":{"row":60,"column":8},"end":{"row":60,"column":9},"action":"insert","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":9},"end":{"row":60,"column":10},"action":"insert","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":9},"end":{"row":60,"column":10},"action":"remove","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":8},"end":{"row":60,"column":9},"action":"remove","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":8},"end":{"row":60,"column":9},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":9},"end":{"row":60,"column":10},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":10},"end":{"row":60,"column":11},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":43},"end":{"row":37,"column":53},"action":"remove","lines":["messageTag"]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":42},"end":{"row":37,"column":43},"action":"remove","lines":["#"]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":42},"end":{"row":37,"column":43},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":37,"column":43},"end":{"row":37,"column":44},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":58,"column":37},"end":{"row":59,"column":33},"action":"remove","lines":["","        //add.appendChild(newUl);"]}]}]]},"ace":{"folds":[],"scrolltop":420,"scrollleft":12,"selection":{"start":{"row":58,"column":37},"end":{"row":58,"column":37},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":29,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1417423277449}