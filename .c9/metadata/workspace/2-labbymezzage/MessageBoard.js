{"changed":true,"filter":false,"title":"MessageBoard.js","tooltip":"/2-labbymezzage/MessageBoard.js","value":"\"use strict\";\n/* I denna fil körs vår applikation.\n * Vi använder window.onload för att starta applikationen när\n * fönstret laddat klart. * \n */\n \n\n\nvar messageBoard = {//här ska vara en metod som kommer trigga igång de andra metoderna\n\n    messages: [],//skapar tom array\n    \n    init: function(){//privat function\n        \n        var submit = document.getElementById(\"send\"); //knappen\n        \n        submit.addEventListener(\"click\", function(a){//när vi klickar på submit hoppar vi \n        messageBoard.newObjekt(a);//till newObject funktionenegenskapen \n        });\n                     //skapa nytt objekt med text och datum\n                    \n                    /*console.log(\"konstrukot m. meddelande och tid: \"+mess);\n                    console.log(\"meddelandet: \"+mess.getText());\n                    mess.setText(\"byter text\");\n                    console.log(\"Nytt meddelande: \"+mess);\n                    console.log(\"datum: \"+mess.getDate().getHours()+\":\"+ mess.getDate().getMinutes()+\":\"+ mess.getDate().getSeconds());\n                    */\n    },\n      \n    newObjekt: function(a){//här skapas ett nytt objekt t arrayn\n        var text = document.querySelector(\"textarea\"); //texten\n        a.preventDefault(); //formuläret skickas inte vidare.\n        //messageBoard.messages.push(new Message(text.value, new Date())); // Läser in texten från textrutan och skickar till funktionen \"newObjekt\"\n        //console.log(messageBoard.messages[0].getText());\n        //var lastPost = messageBoard.messages.length;\n        //messageBoard.outputMessage(lastPost);\n        \n        if( text.value !== \"\"){\n        messageBoard.messages.push(new Message(text.value, new Date())); // Läser in texten från textrutan och skickar till funktionen \"newObjekt\"\n        var lastPost = messageBoard.messages.length - 1;\n        messageBoard.outputMessage(lastPost);\n\n\t\t\ttext.value = \"\";\n\t\t}\n    },\n    \n    outputMessage: function(messageId){//här skrivs meddelandet ut\n        var add = document.querySelector(\"#messageTag\").querySelector(\"ul\");//alla ul taggar i message-div\n        \n        //skapa nya div taggar och får ids som ska läggas till i add sedan\n        var newLi = document.createElement(\"li\");\n        var newDelete = document.createElement(\"div\");//skapar delete - div tag\n        var newA = document.createElement(\"a\");\n        var newA2 = document.createElement(\"a\"); //delete och time kunde inte dela samma a-tag\n        var newTime = document.createElement(\"div\");\n        var newPText = document.createElement(\"p\");\n        var newPDate = document.createElement(\"p\");\n        \n        //sätter attribut till de nya taggarna\n        newDelete.setAttribute(\"class\", \"delete\");\n        newA.setAttribute(\"href\", \"#\");\n        newA2.setAttribute(\"href\", \"#\");\n        newTime.setAttribute(\"class\", \"time\");\n        \n        //lägger till de nya taggarna\n        add.appendChild(newLi); \n        newLi.appendChild(newDelete);\n        newDelete.appendChild(newA);\n        newLi.appendChild(newTime);\n        newTime.appendChild(newA2);\n        newLi.appendChild(newPText);\n        newLi.appendChild(newPDate);\n        \n        \n        //Lägger till texten i p taggen\n        newPText.innerHTML += messageBoard.messages[messageId].getHTMLText();\n        console.log(messageBoard.messages[messageId].getHTMLText());\n        \n        //Lägger till datument i en annan p tagg\n        //newPDate.innerHTML += messageBoard.messages[messageId].getHTMLDate();\n        //console.log(messageBoard.messages[messageId].getHTMLDate());\n        \n        \n        //radera meddelanden\n        newA.onclick = function(e){\n\t\t\te.preventDefault();\n\t\t\tif( confirm(\"Vill du verkligen radera meddelandet?\")){\n\t\t\t\tmessageBoard.remove(messageId);\n\t\t\t}\n\t\t}\n        \n        newA2.onclick = function(e){\n\t\t\te.preventDefault();\n\t\t\talert(messageBoard.messages[messageIdgit].toString());\n\t\t}\n    },\n    \n    remove: function(messageId){\n\t\tmessageBoard.messages.splice(messageId, 1); //på postionen messageId, ta bort ett item\n\t},\n    \n    makeMessage: function(){//skapa nytt meddelande objekt när send knapp klickad på.\n        \n        \n    }\n    \n   \n    \n    \n};\n    //console.log(messageBoard.messages[1].getText());\nwindow.onload = messageBoard.init;\n\n\n/*var message = ['Ge inte ut ditt lösenord till någon']; //första meddelandet\nmessage.push('här är ett meddelande');\nconsole.log(\"Meddelanden i arrayn: \"+message);\nconsole.log(\"längd på arrayn: \"+message.length);\nconsole.log(\"Meddelanden nummer två: \"+message);*/","undoManager":{"mark":97,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":84,"column":10},"end":{"row":84,"column":11},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":11},"end":{"row":84,"column":12},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":11},"end":{"row":84,"column":12},"action":"remove","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":8},"end":{"row":84,"column":11},"action":"remove","lines":["new"]},{"start":{"row":84,"column":8},"end":{"row":84,"column":12},"action":"insert","lines":["newA"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":4},"end":{"row":87,"column":5},"action":"remove","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":4},"end":{"row":87,"column":5},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":39},"end":{"row":87,"column":40},"action":"remove","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":39},"end":{"row":87,"column":40},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":8},"end":{"row":97,"column":3},"action":"insert","lines":["removeMessage: function(messageID){","","\t\tMessageBoard.messages.splice(messageID, 1);","\t\tMessageBoard.renderMessages();","\t\tMessageBoard.counter();","\t},"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":2},"end":{"row":94,"column":3},"action":"remove","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":2},"end":{"row":94,"column":3},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":95,"column":2},"end":{"row":95,"column":3},"action":"remove","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":95,"column":2},"end":{"row":95,"column":3},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":2},"end":{"row":96,"column":3},"action":"remove","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":2},"end":{"row":96,"column":3},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":45},"end":{"row":94,"column":46},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":46},"end":{"row":94,"column":47},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":47},"end":{"row":94,"column":48},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":48},"end":{"row":94,"column":49},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":49},"end":{"row":94,"column":50},"action":"insert","lines":["å"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":50},"end":{"row":94,"column":51},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":51},"end":{"row":94,"column":52},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":52},"end":{"row":94,"column":53},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":53},"end":{"row":94,"column":54},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":54},"end":{"row":94,"column":55},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":55},"end":{"row":94,"column":56},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":56},"end":{"row":94,"column":57},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":57},"end":{"row":94,"column":58},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":58},"end":{"row":94,"column":59},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":59},"end":{"row":94,"column":60},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":60},"end":{"row":94,"column":61},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":61},"end":{"row":94,"column":62},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":62},"end":{"row":94,"column":63},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":63},"end":{"row":94,"column":64},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":64},"end":{"row":94,"column":65},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":65},"end":{"row":94,"column":66},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":66},"end":{"row":94,"column":67},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":67},"end":{"row":94,"column":68},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":68},"end":{"row":94,"column":69},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":69},"end":{"row":94,"column":70},"action":"insert","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":69},"end":{"row":94,"column":70},"action":"remove","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":68},"end":{"row":94,"column":69},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":68},"end":{"row":94,"column":69},"action":"insert","lines":["I"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":69},"end":{"row":94,"column":70},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":70},"end":{"row":94,"column":71},"action":"insert","lines":[","]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":71},"end":{"row":94,"column":72},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":72},"end":{"row":94,"column":73},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":73},"end":{"row":94,"column":74},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":74},"end":{"row":94,"column":75},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":75},"end":{"row":94,"column":76},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":76},"end":{"row":94,"column":77},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":77},"end":{"row":94,"column":78},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":78},"end":{"row":94,"column":79},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":79},"end":{"row":94,"column":80},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":80},"end":{"row":94,"column":81},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":81},"end":{"row":94,"column":82},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":82},"end":{"row":94,"column":83},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":83},"end":{"row":94,"column":84},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":84},"end":{"row":94,"column":85},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":85},"end":{"row":94,"column":86},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":86},"end":{"row":94,"column":87},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":87},"end":{"row":94,"column":88},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":39},"end":{"row":94,"column":40},"action":"remove","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":39},"end":{"row":94,"column":40},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":40},"end":{"row":92,"column":41},"action":"remove","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":40},"end":{"row":92,"column":41},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":8},"end":{"row":97,"column":3},"action":"remove","lines":["removeMessage: function(messageId){","","\t\tmessageBoard.messages.splice(messageId, 1); //på postionen messageId, ta bort ett item","\t\tmessageBoard.renderMessages();","\t\tmessageBoard.counter();","\t},"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":6},"end":{"row":94,"column":0},"action":"insert","lines":["",""]},{"start":{"row":94,"column":0},"end":{"row":94,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":4},"end":{"row":99,"column":3},"action":"insert","lines":["removeMessage: function(messageId){","","\t\tmessageBoard.messages.splice(messageId, 1); //på postionen messageId, ta bort ett item","\t\tmessageBoard.renderMessages();","\t\tmessageBoard.counter();","\t},"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":8},"end":{"row":92,"column":7},"action":"remove","lines":["","       "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":4},"end":{"row":89,"column":3},"action":"remove","lines":["","\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":10},"end":{"row":92,"column":17},"action":"remove","lines":["Message"]}]}],[{"group":"doc","deltas":[{"start":{"row":87,"column":23},"end":{"row":87,"column":30},"action":"remove","lines":["Message"]}]}],[{"group":"doc","deltas":[{"start":{"row":95,"column":2},"end":{"row":96,"column":25},"action":"remove","lines":["messageBoard.renderMessages();","\t\tmessageBoard.counter();"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":8},"end":{"row":79,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":9},"end":{"row":79,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":8},"end":{"row":80,"column":9},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":9},"end":{"row":80,"column":10},"action":"insert","lines":["/"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":32},"end":{"row":93,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":1},"end":{"row":95,"column":0},"action":"remove","lines":["\t",""]}]}],[{"group":"doc","deltas":[{"start":{"row":94,"column":1},"end":{"row":94,"column":2},"action":"remove","lines":["\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":6},"end":{"row":92,"column":0},"action":"insert","lines":["",""]},{"start":{"row":92,"column":0},"end":{"row":92,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":8},"end":{"row":90,"column":9},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":8},"end":{"row":91,"column":0},"action":"insert","lines":["",""]},{"start":{"row":91,"column":0},"end":{"row":91,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":8},"end":{"row":94,"column":3},"action":"insert","lines":["aTime.onclick = function(e){","\t\t\te.preventDefault();","\t\t\tMessageBoard.showTime(messageID);","\t\t}"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":8},"end":{"row":91,"column":13},"action":"remove","lines":["aTime"]},{"start":{"row":91,"column":8},"end":{"row":91,"column":9},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":9},"end":{"row":91,"column":10},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":10},"end":{"row":91,"column":11},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":8},"end":{"row":91,"column":11},"action":"remove","lines":["new"]},{"start":{"row":91,"column":8},"end":{"row":91,"column":13},"action":"insert","lines":["newA2"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":3},"end":{"row":93,"column":4},"action":"remove","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":3},"end":{"row":93,"column":4},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":22},"end":{"row":93,"column":36},"action":"remove","lines":["","\t\t\tmessageBoard.showTime(messageID);"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":22},"end":{"row":93,"column":0},"action":"insert","lines":["",""]},{"start":{"row":93,"column":0},"end":{"row":93,"column":3},"action":"insert","lines":["\t\t\t"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":3},"end":{"row":93,"column":54},"action":"insert","lines":["alert(MessageBoard.messages[messageID].toString());"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":9},"end":{"row":93,"column":10},"action":"remove","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":9},"end":{"row":93,"column":10},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":39},"end":{"row":93,"column":40},"action":"remove","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":39},"end":{"row":93,"column":40},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":40},"end":{"row":93,"column":41},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":41},"end":{"row":93,"column":42},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":93,"column":42},"end":{"row":93,"column":43},"action":"insert","lines":["t"]}]}]]},"ace":{"folds":[],"scrolltop":960,"scrollleft":0,"selection":{"start":{"row":93,"column":43},"end":{"row":93,"column":43},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":67,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1417270193734}